<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Timeline</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f7f9fc;
            padding: 30px;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .post {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 15px;
            background: #fff;
            border-radius: 8px;
        }

        .timestamp {
            color: gray;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>Your Timeline</h1>
    <div id="timelineContainer"></div>
    <button onclick="location.href='/home'">Back to Home</button>

    <script>
        const sessionID = localStorage.getItem("sessionID");

        fetch("/timeline", {
            method: "POST",
            body: JSON.stringify({ sessionID })
        })
        .then(r => r.json())
        .then(data => {
            const container = document.getElementById("timelineContainer");
            container.innerHTML = "";
            (data.posts || []).forEach(post => {
                const div = document.createElement("div");
                div.className = "post";
                div.innerHTML = `
                    <div><strong>${post.username}</strong></div>
                    <div>${post.content}</div>
                    <div class="timestamp">${new Date(post.timestamp * 1000).toLocaleString()}</div>
                `;
                container.appendChild(div);
            });
        });
    </script>
</body>
</html>
